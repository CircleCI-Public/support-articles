id: 360054908812
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360054908812.json
html_url: https://support.circleci.com/hc/ja/articles/360054908812
author_id: 25261361207
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003756627
created_at: '2021-01-12T17:15:43Z'
updated_at: '2021-01-27T02:53:51Z'
name: RAM ディスクを使用してステップを高速化する
title: RAM ディスクを使用してステップを高速化する
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2021-01-27T02:53:51Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: >-
  <p>ディスクの IO への依存度が高いタスクは、ディスク内ではなくメモリ内で操作を実行することで高速化できることがあります。 CircleCI で
  Docker Executor を使用している場合は特にこれが顕著です。詳細については、<a
  href="https://circleci.com/ja/blog/the-issue-of-speed-and-determinism-in-ci/"
  target="_blank" rel="noopener">こちらのブログ記事</a>で詳しく解説しています。</p><h3>Docker
  Executor</h3><p>Docker Executor では利用可能な RAM
  ディスクがデフォルトで有効化されており、これを使用することでステップを劇的に高速化できます。
  キャッシュまたはワークスペースの復元のようなステップでは、この方法を強くお勧めします。 構成方法について詳しくは、<a
  href="https://circleci.com/docs/ja/2.0/executor-types/#ram-disks"
  target="_self">こちらのドキュメント</a>をご覧ください。</p><p>簡単に説明すると、<strong>/mnt/ramdisk</strong>
  という、あらゆるディレクトリの代わりになる特別なディレクトリを使用します。 ここに保存されたファイルは、マシンに割り当てられているリソース
  クラスのメモリを使用します。 たとえば、ジョブの設定ファイルで「<strong><span class="na"><span
  class="hljs-attr">working_directory</span></span><span class="pi"><span
  class="hljs-attr">: </span></span><span
  class="s">/mnt/ramdisk</span></strong><span
  class="s">」と指定すると、作業ディレクトリ全体がメモリに保存されるように設定することができます。</span></p><h3>その他の
  Executor<br><span></span>

  </h3><p>RAM ディスクは、その他の Executor ではデフォルトで構成されることはありません。 これらの Executor は分離された VM
  として動作するので、上記のブログ記事で触れている問題は起こりません。そのため、RAM ディスクが必要になる可能性は低くなります。 ただし、RAM
  ディスクを使用すると、ハード ディスクよりも優れたパフォーマンスが得られる場合があります。 Docker 以外の Executor
  (Machine、MacOS など) では環境を非常に細かく制御でき、独自の RAM ディスクの構成も可能です。 Linux
  ベースのシステムでの手順については、<a
  href="https://unix.stackexchange.com/questions/66329/creating-a-ram-disk-on-linux"
  target="_self">Stack Exchange のこちらの回答</a>などを参照してください。</p>
