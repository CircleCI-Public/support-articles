id: 360047058451
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360047058451.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360047058451-Check-Usage-Queue-with-the-v1-1-API
author_id: 379006459554
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 4
vote_count: 6
section_id: 115003756627
created_at: '2020-07-29T16:39:06Z'
updated_at: '2020-12-10T20:46:09Z'
name: Check Usage Queue with the v1.1 API
title: Check Usage Queue with the v1.1 API
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-12-10T20:46:09Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - queued
  - job
  - queue
  - builds
  - not running
  - builds blocked
  - build not run
body: "<div data-slate-fragment=\"JTdCJTIya2luZCUyMiUzQSUyMmRvY3VtZW50JTIyJTJDJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIydHlwZSUyMiUzQSUyMlRJVExFJTIyJTJDJTIyaXNWb2lkJTIyJTNBZmFsc2UlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIydGV4dCUyMiUyQyUyMmxlYXZlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMkNoZWNrJTIwVXNhZ2UlMjBRdWV1ZSUyMHdpdGglMjB0aGUlMjB2MS4xJTIwQVBJJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIyYmxvY2slMjIlMkMlMjJ0eXBlJTIyJTNBJTIycGFyYWdyYXBoJTIyJTJDJTIyaXNWb2lkJTIyJTNBZmFsc2UlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIydGV4dCUyMiUyQyUyMmxlYXZlcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMkluJTIwdGhlJTIwb2xkJTIwVUklMkMlMjB0aGUlMjBRdWV1ZSUyMHRhYiUyMHByb3ZpZGVkJTIwaG93JTIwbG9uZyUyMGElMjBqb2IlMjB3YWl0ZWQlMjBmb3IlMjBhbiUyMGF2YWlsYWJsZSUyMGNvbnRhaW5lciUyMGluJTIwb3JkZXIlMjB0byUyMHJ1biUyMCh1c2FnZSUyMHF1ZXVlKSUyMGFzJTIwd2VsbCUyMGFzJTIwdGhlJTIwam9icyUyMGl0JTIwd2FzJTIwcXVldWVkJTIwYmVoaW5kLiUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIybGVhZiUyMiUyQyUyMnRleHQlMjIlM0ElMjJJbiUyMHRoZSUyMG5ldyUyMFVJJTJDJTIwdGhlJTIwUXVldWUlMjB0YWIlMjBpcyUyMG5vJTIwbG9uZ2VyJTIwcHJlc2VudCUyMGJ1dCUyMHdlJTIwY2FuJTIwdXNlJTIwdGhlJTIwdjElMjBBUEklMjB0byUyMGdldCUyMHRoaXMlMjBpbmZvcm1hdGlvbiUzQSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIybGVhZiUyMiUyQyUyMnRleHQlMjIlM0ElMjJodHRwcyUzQSUyRiUyRmNpcmNsZWNpLmNvbSUyRmFwaSUyRnYxLjElMkZwcm9qZWN0JTJGZ2l0aHViJTJGJTdCb3JnbmFtZSU3RCUyRiU3QnJlcG8tbmFtZSU3RCUyRiU3QkNJUkNMRV9CVUlMRF9OVU0lN0QlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMlRFWFRfQ09MT1IlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTIyY29sb3IlMjIlM0ElMjIlMjM5MDEzZmUlMjIlN0QlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFX1NOSVBQRVQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTdEJTVEJTdEJTVEJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmJsb2NrJTIyJTJDJTIydHlwZSUyMiUzQSUyMnBhcmFncmFwaCUyMiUyQyUyMmlzVm9pZCUyMiUzQWZhbHNlJTJDJTIyZGF0YSUyMiUzQSU3QiU3RCUyQyUyMm5vZGVzJTIyJTNBJTVCJTdCJTIya2luZCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIybGVhZiUyMiUyQyUyMnRleHQlMjIlM0ElMjJvcmduYW1lJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlN0IlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJURVhUX0NPTE9SJTIyJTJDJTIyZGF0YSUyMiUzQSU3QiUyMmNvbG9yJTIyJTNBJTIyJTIzOTAxM2ZlJTIyJTdEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMm1hcmslMjIlMkMlMjJ0eXBlJTIyJTNBJTIyQ09ERV9TTklQUEVUJTIyJTJDJTIyZGF0YSUyMiUzQSU3QiU3RCU3RCU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMiUyMG5hbWUlMjBvZiUyMHRoZSUyMG9yZ2FuaXphdGlvbiUyMG9yJTIwdXNlcm5hbWUlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCU3RCUyQyU3QiUyMmtpbmQlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMiU1Q25yZXBvLW5hbWUlMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMlRFWFRfQ09MT1IlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTIyY29sb3IlMjIlM0ElMjIlMjM5MDEzZmUlMjIlN0QlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFX1NOSVBQRVQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmxlYWYlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJTIwbmFtZSUyMG9mJTIwdGhlJTIwcHJvamVjdCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmxlYWYlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJTVDbkNJUkNMRV9CVUlMRF9OVU0lMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU3QiUyMmtpbmQlMjIlM0ElMjJtYXJrJTIyJTJDJTIydHlwZSUyMiUzQSUyMlRFWFRfQ09MT1IlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTIyY29sb3IlMjIlM0ElMjIlMjM5MDEzZmUlMjIlN0QlN0QlMkMlN0IlMjJraW5kJTIyJTNBJTIybWFyayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJDT0RFX1NOSVBQRVQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTdEJTVEJTdEJTJDJTdCJTIya2luZCUyMiUzQSUyMmxlYWYlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJTIwdGhlJTIwYnVpbHQtaW4lMjBlbnZpcm9ubWVudCUyMHZhcmlhYmxlJTIwYXNzb2NpYXRlZCUyMHdpdGglMjB0aGUlMjBzcGVjaWZpYyUyMGJ1aWxkJTJDJTIwd2hpY2glMjBjYW4lMjBiZSUyMGZvdW5kJTIwaW4lMjB0aGUlMjBVSSUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTdEJTVEJTdEJTVEJTdEJTVEJTdE\"></div>\n<div>\n<p data-ghq-card-content-type=\"paragraph\"><span>If jobs in your pipeline are taking a while to run or stuck in the\_<code data-ghq-card-content-type=\"CODE_SNIPPET\">running</code>\_state and you're unsure why, you can check the Usage Queue to determine if that job is queued behind other running jobs.</span></p>\n</div>\n<div>\n<p data-ghq-card-content-type=\"paragraph\"><span><code data-ghq-card-content-type=\"CODE_SNIPPET\">https://circleci.com/api/v1.1/project/github/{orgname}/{project}/{CIRCLE_BUILD_NUM}</code></span></p>\n</div>\n<div>\n<p data-ghq-card-content-type=\"paragraph\"><span><code data-ghq-card-content-type=\"CODE_SNIPPET\">orgname</code>\_is name of the organization or username</span></p>\n<p data-ghq-card-content-type=\"paragraph\"><span><code data-ghq-card-content-type=\"CODE_SNIPPET\">project</code>\_is the name of your repository</span></p>\n<p data-ghq-card-content-type=\"paragraph\"><span><code data-ghq-card-content-type=\"CODE_SNIPPET\">CIRCLE_BUILD_NUM</code> the built-in environment variable associated with the specific build in question, which can be found in the UI</span></p>\n<p data-ghq-card-content-type=\"paragraph\"><br><img class=\"ghq-card-content__image\" src=\"https://content.api.getguru.com/files/view/7f505d42-948b-48f1-a63a-a5141171f3dd\" width=\"567\" height=\"auto\" data-key=\"69\" data-ghq-card-content-type=\"IMAGE\" data-ghq-card-content-image-filename=\"Screen Shot 2020-07-21 at 4.39.41 PM.png\" data-ghq-card-content-image-no-src=\"false\"></p>\n<div class=\"ghq-card-content__content-width-node\">\n<p class=\"ghq-card-content__paragraph\" data-key=\"WEB_Tzo7qKBc861597936613559_82\" data-ghq-card-content-type=\"paragraph\"><span data-key=\"WEB_Tzo7qKBc191597936613559_83\">If the build was put in the usage queue, you will see the <code class=\"ghq-card-content__code-snippet\" data-ghq-card-content-type=\"CODE_SNIPPET\"><span class=\"ghq-card-content__text-color\" data-ghq-card-content-type=\"TEXT_COLOR\">usage_queued_at</span></code> key and the time it was queued at (UTC), example:</span></p>\n</div>\n<div class=\"ghq-card-content__content-width-node\">\n<p class=\"ghq-card-content__paragraph\" data-key=\"WEB_Tzo7qKBc131597936613559_84\" data-ghq-card-content-type=\"paragraph\"><span data-key=\"WEB_Tzo7qKBc611597936613559_85\"><code class=\"ghq-card-content__code-snippet\" data-ghq-card-content-type=\"CODE_SNIPPET\"><span class=\"ghq-card-content__text-color\" data-ghq-card-content-type=\"TEXT_COLOR\"><strong class=\"ghq-card-content__bold\" data-ghq-card-content-type=\"BOLD\">\"usage_queued_at\"</strong></span></code><code class=\"ghq-card-content__code-snippet\" data-ghq-card-content-type=\"CODE_SNIPPET\"><span class=\"ghq-card-content__text-color\" data-ghq-card-content-type=\"TEXT_COLOR\">: \"2020-08-17T17:40:53.115Z\"</span></code></span></p>\n</div>\n<p data-ghq-card-content-type=\"paragraph\">\_</p>\n<p data-ghq-card-content-type=\"paragraph\"><span>You can then use the following endpoint to view which jobs were queued prior to this build:</span></p>\n<p data-ghq-card-content-type=\"paragraph\"><span><code data-ghq-card-content-type=\"CODE_SNIPPET\">https://circleci.com/api/v1.1/project/github/{orgname}/{project}/{CIRCLE_BUILD_NUM}/usage-queue</code></span></p>\n<p data-ghq-card-content-type=\"paragraph\">\_</p>\n<p data-ghq-card-content-type=\"paragraph\"><span>For those on the Performance Plan getting stuck in the Usage Queue, you can request a concurrency increase by writing to <a href=\"mailto:billing@circleci.com\">billing@circleci.com</a>.\_</span></p>\n</div>"
