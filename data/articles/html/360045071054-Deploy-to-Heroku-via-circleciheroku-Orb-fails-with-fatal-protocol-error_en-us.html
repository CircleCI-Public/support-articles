<p>When deploying to Heroku with the <a href="https://circleci.com/orbs/registry/orb/circleci/heroku" target="_self">circleci/heroku Orb</a>, builds can fail with the error message:</p>
<pre>fatal: protocol error: bad line length character: fata
error: error in sideband demultiplexer</pre>
<p>This can be resolved by manually resetting the Git repository on Heroku.</p>
<p>With the <a href="https://devcenter.heroku.com/articles/heroku-cli" target="_self">Heroku CLI client</a>, install the <a href="https://github.com/heroku/heroku-repo" target="_self">heroku-repo plugin</a> and clear the repository on Heroku. Then push a fresh empty commit to Heroku.</p>
<pre>heroku plugins:install heroku-repo<br>heroku repo:reset -a example-app<br>git commit --allow-empty -m "Reset Heroku Repository"<br>git push heroku main<br>git push origin main</pre>
<p> </p>