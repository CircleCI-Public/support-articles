<h2 id="h_01HM7ADVM3PWD0K7KV9VKSYMM9">失敗すべきTerraformビルドが成功と判断される場合</h2>
<p>ラッパーシェルスクリプトでTerraformを操作する際には、通常、失敗した場合の終了ステータスを呼び出し元に返す必要があります。この動作はデフォルトではないことに注意してください。</p>
<p>Bashでは、スクリプト全体がコマンドのエラーで失敗したと認識されるように設定することが可能です。これを実現するためには、Terraformコマンドを実行する前に、次に示すコード行を加えることが必要です。</p>
<pre style="background-color: #f3f3f3;">set -e</pre>
<p>別の方法として、終了ステータスを明示的に追跡するロジックを設計することも可能です。exitコマンドを利用して、失敗した時のコードをシェルスクリプトの結果として渡すことができます。</p>