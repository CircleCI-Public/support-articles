<p dir="auto">Our macOS executor currently does not have any gpu/hardware acceleration due to being run in a VM, so this can cause a crash when the Metal framework tries to access the gpu at a fairly low level. As 3D acceleration for macOS guests has never been greatly supported by the major hypervisors, it is not something we can easily resolve ourselves.</p>
<p dir="auto">Generally most hardware accelerated rendering does have a form of software rendering fallback which can be used, so in almost all cases this is not a problem - the iOS simulator itself for example is usually hardware accelerated but has a fallback. Metal appears to not have this fallback functionality. You may be able to enquire further about this via Apple's developer support to see if there are any alternative options available:<span> </span><a href="https://developer.apple.com/support/" rel="noreferrer">https://developer.apple.com/support/</a></p>
<p dir="auto">There is an active idea request for Metal/hardware acceleration support in the macOS executor here (please feel free to vote and comment on this as we use these ideas to shape future features):<span> </span><a href="https://ideas.circleci.com/images/p/hardware-metal-capability-for-macos-vms" rel="noreferrer">https://ideas.circleci.com/images/p/hardware-metal-capability-for-macos-vms</a></p>