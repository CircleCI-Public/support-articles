<h1 id="h_01HNFHB5V80SHBNATHAY1KKGK7">Determining the Cause of Xcode/iOS Failures in CircleCI</h1>
<h2 id="h_01HNFHB5V88GVVRJ8K7JPQ0RKF">Environment</h2>
<p>The CircleCI macOS executor provides a clean, freshly installed, environment for each job. The software available in the VM depends on the <a href="https://circleci.com/docs/2.0/testing-ios/#supported-xcode-versions" target="_self">image selected</a>. In most cases, the environment will be very different to your local environment where you may already have certificates / profiles and specific dependency versions installed, along with build caches.</p>
<h2 id="h_01HNFHB5V82DF0Q43ZDMQQ0H87">Hardware</h2>
<p>It is also important to note that local machines will, on the most part, be a lot newer and faster than the machines used in a CI environment. With an extensive fleet of macOS hosts, we cannot update the hardware as often as a developer may replace their own Mac. In some instances this means apps may take a little longer to build and apps may launch / execute slower in the simulator.</p>
<h2 id="h_01HNFHB5V83XAT6N1YMG5YMFWE">Debugging</h2>
<p>The best debugging step to start with is to collect the <a href="https://support.circleci.com/hc/en-us/articles/360037683373-iOS-Simulator-Crash-Reports" target="_self">simulator crash reports</a>. If you see the termination reason in the crash report as "<strong>SPRINGBOARD</strong>", then this means you app was too slow to start up and has been killed by the iOS subsystem (this can be anywhere from 5-8 seconds maximum launch time). This is one of the most common causes of a test failure. As explained above, due to different environments, and hardware, if your app is on the borderline of being too slow to launch normally, running in a CI environment may cause it tip over the limit. To resolve this, consider following <a href="https://developer.apple.com/videos/play/wwdc2019/423/" target="_self">best practises for speeding up your app launch</a>.</p>
<p>If the issue I related to code signing, which works locally on your machine but not in CircleCI, the best method to resolve this is to redo your code-signing setup and start from fresh. As there are many moving parts to code signing, in most cases it is much faster to do this than try to debug a bad setup. We recommend reading our <a href="https://circleci.com/docs/ios-codesigning/">iOS code signing documentation</a> for further information.</p>