<h1 id="h_01HAMK70E9ZRGQCRNKYNK1KEV8"><span style="font-weight: 400;">Overview</span></h1>
<p><span style="font-weight: 400;">If you are using a context in your workflow, you may encounter the following message. </span></p>
<p><img src="https://support.circleci.com/hc/article_attachments/18885939913115" alt="Screenshot 2023-09-18 at 12.34.48 PM.png"></p>
<h1 id="h_01HAMKFCBPV58Y2M4G384SZFAS">Solutions</h1>
<p><span style="font-weight: 400;">If your builds are failing as "Unauthorized" and you are utilizing contexts, please try the following troubleshooting steps:</span></p>
<ol>
    <li style="font-weight: 400;"><span style="font-weight: 400;"><strong>Restricted Contexts</strong>: If you are using a <a href="https://circleci.com/docs/2.0/contexts/#restricting-a-context" target="_self">Restricted Context</a>, confirm the blocked user is a part of the security group (<a href="https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/github-glossary#team" target="_self">defined by GitHub teams</a>), users that are not a part of the GitHub team will not have access to the context</span></li>
    <li style="font-weight: 400;"><span style="font-weight: 400;"><strong>Stale Permissions</strong>: If your permission level recently changed, please have an organization admin refresh your user permissions. Additionally, the user in question should also refresh their permissions. A user can refresh their permissions by navigating to their <a href="https://app.circleci.com/settings/user" target="_self" rel="undefined">user settings page</a> and click "Refresh Permissions." </span></li>
    <li style="font-weight: 400;">
        <span style="font-weight: 400;"><strong>Nested Teams</strong>: If the context you are attempting to use is part of a nested team, you will need to </span><a href="https://support.circleci.com/hc/en-us/articles/360047769712-Using-and-sharing-context-with-GitHub-Nested-Teams-"><span style="font-weight: 400;">add the nested team as a security group</span></a>
    </li>
    <li style="font-weight: 400;"><span style="font-weight: 400;"><strong>Account renames</strong>: If you recently renamed your GitHub username and are suddenly experiencing permission issues please contact Support</span></li>
    <li style="font-weight: 400;"><span style="font-weight: 400;"><strong>Browser extensions</strong>: Try to disable browser extensions or log in from a different browser and/or device. If you are still blocked, please submit a HAR file to Support</span></li>
    <li style="font-weight: 400;">
        <span style="font-weight: 400;"><strong>Invalid/Expired OAuth token</strong>: Proceed to a full re-authentication</span>
        <ol>
            <li style="font-weight: 400;"><span style="font-weight: 400;">Sign out of your CircleCI account</span></li>
            <li style="font-weight: 400;"><span style="font-weight: 400;">Revoke CircleCI's access in <a href="https://bitbucket.org/account/settings/app-authorizations" target="_self">Bitbucket</a> or <a href="https://github.com/settings/applications" target="_self">GitHub</a></span></li>
            <li style="font-weight: 400;"><span style="font-weight: 400;">Clear your browser's cache and cookies</span></li>
            <li style="font-weight: 400;"><span style="font-weight: 400;">Sign back into your CircleCI account</span></li>
            <li style="font-weight: 400;"><span style="font-weight: 400;">Refresh permissions at <a href="https://app.circleci.com/settings/user" target="_blank" rel="noopener noreferrer">https://app.circleci.com/settings/user</a></span></li>
        </ol>
    </li>
    <li style="font-weight: 400;"><span style="font-weight: 400;"><strong>Recent change to Context Restrictions</strong>: If you've recently adjusted the permissions of a context, changes may not be available immediately due to caching. You will need an organization admin to refresh permissions at <a href="https://app.circleci.com/settings/user">https://app.circleci.com/settings/user</a> (<a href="https://circleci.com/docs/2.0/contexts/#make-changes-to-context-restrictions" target="_self">more info</a>)</span></li>
    <li style="font-weight: 400;">
        <strong>Project Restrictions:</strong> If your team utilizes <a href="https://circleci.com/docs/contexts/#project-restrictions" target="_blank" rel="noopener noreferrer">project restrictions</a> on Contexts, you may be trying to use the Context in a project that it is not authorized to be used in.
    </li>
    <li style="font-weight: 400;">
        <strong>Context Expression Restrictions: </strong>If your organization has enabled <a href="https://circleci.com/docs/contexts/#expression-restrictions" target="_blank" rel="noopener noreferrer">Context Expression Restrictions</a>, you may need to verify that you are not triggering any of the restrictions.
    </li>
</ol>
<p><span style="font-weight: 400;">Please note that you can leverage the <a href="https://circleci.com/docs/api/v2/">CircleCI v2 API</a> to find the user id of a user who triggered a workflow. You can use the <a href="https://circleci.com/docs/api/v2/index.html#tag/Workflow">Get a workflow</a> endpoint. The value assigned to <code>started_by</code> key in the response corresponds to the user ID of the user who triggered the build. </span></p>
<p> </p>
<h1 id="h_01HAMKN7A14EY7N3M31Q3R6MRQ">Additional Resources</h1>
<ul>
    <li><a href="https://circleci.com/docs/contexts/" target="_blank" rel="noopener noreferrer">CircleCI Docs - Contexts</a></li>
</ul>